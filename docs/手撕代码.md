# 一、简单用法手撕

## 1.1 前置++和后置++的实现

**代码实现**：

```cpp
class MyPlusPlus {
public:
    MyPlusPlus& operator++() {
        ++value;
        return *this;	// 返回当前对象的引用
    }
    
    const MyPlusPlus opeartor++(int) {	// 声明返回值为const，不能修改，避免连续调用多次后置++（不合法操作）
        // 创建一个临时变量
        MyPlusPlus temp = *this;
        ++value;
        return temp;
    }
    
private:
    int value;
};
```

- **为什么前置++返回引用？**

  因为我们本意是想获得自增之后的原对象，如果不使用引用获得的其实是拷贝的副本，且使用引用传输可以提高效率。

- **为什么后置++不返回引用？**

  因为后置++中，原对象已经自增了，要返回的是我们在函数内部创建的一个临时局部变量，返回局部变量的引用是没有意义的（因为这个局部变量会被销毁），所以需要直接返回，获得其副本。

- **为什么后置++返回值需要是const？**

  也可以不加。这样是**避免连续调用多次后置++**，因为返回值本身不会变，所以多次后置++结果都是一样的，这是不合法操作。